<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
<textarea id= "REEE">

</textarea>
<button id="button">
  compile
</button>
<p id="message">

</p>


<script>

var postData = {
  script:'printf(\"hello world\")',
  language:'c',
  versionIndex:'0',
  clientId:client,
  clientSecret:secret
}

var options = {
  method:'post',
  url: 'https://api.jdoodle.com/v1/execute',
  headers: {
    'Content-Type': 'application/json',
    'charset' : 'UTF-8'
  },
  body: JSON.stringify(postData)
};

var client = "db6c4e08d127f46b3ccffdbb55ba7df3"
var secret = "53f2a59444066477d9d17a7e773b4899b4ea7592dfc9dad62907ead3834298a"

$(document).ready(function(){
    $("button").click(function(){
      var code = document.getElementById("REEE").value
      var options = {
        script: code,
        language: "c",
        versionIndex:'0',
        clientId:client,
        clientSecret:secret
      }
      console.log(JSON.stringify(options))
        $.ajax({
            url: 'https://api.jdoodle.com/v1/execute',
            type: 'post',
            data: JSON.stringify(options),
            headers: {
              'Content-Type': 'application/json',
              'charset' : 'UTF-8'
            },
            success: function (data) {
              console.log(data);
              var noImport = "No such file or directory"
              if(data["output"].includes(noImport)){
                document.getElementById("message").innerHTML = "pass"
                var lines = subject.split();

              }
              else{
                document.getElementById("message").innerHTML = data["output"]
              }
            }
        });
    });
});

</script>
</body>
</html>
